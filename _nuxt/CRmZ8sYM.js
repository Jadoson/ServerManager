import{d as y,_ as $,t as d,v as i,J as A,K as I,x as s,y as f,B as q,r as p,E as g,L as u,M as _,N as C,O as F,o as D,z as E,P as w,Q as U}from"./CsQz6Mth.js";const B=y({props:{servers:{type:Array,required:!0}},emits:["remove-server","edit-server"],methods:{removeServer(r){this.$emit("remove-server",r)},editServer(r){this.$emit("edit-server",r)}}}),M={class:"server-list"},O={class:"server-info"},J={class:"server-controls"},L=["onClick"],T=["onClick"];function H(r,e,t,n,a,m){return d(),i("ul",M,[(d(!0),i(A,null,I(r.servers,o=>(d(),i("li",{key:o.customer_id},[s("div",O,[s("strong",null,f(o.customer_id),1),q(" - "+f(o.server_name)+" ("+f(o.server_type)+") ",1)]),s("div",J,[s("button",{class:"edit-button",onClick:S=>r.editServer(o)},e[0]||(e[0]=[s("i",{class:"fas fa-pencil-alt"},null,-1)]),8,L),s("button",{class:"remove-button",onClick:S=>r.removeServer(o)},e[1]||(e[1]=[s("i",{class:"fas fa-trash-alt"},null,-1)]),8,T)])]))),128))])}const k=$(B,[["render",H],["__scopeId","data-v-dc517ac1"]]),R=y({props:{server:{type:Object,required:!0}},emits:["save-server","close-form"],setup(r,{emit:e}){const t=p({...r.server});return g(()=>r.server,m=>{t.value={...m}}),{localServer:t,save:()=>{e("save-server",t.value)},close:()=>{e("close-form")}}}}),j={class:"edit-form-container"};function z(r,e,t,n,a,m){return d(),i("div",j,[e[7]||(e[7]=s("h3",null,"Edit Server",-1)),s("form",{onSubmit:e[4]||(e[4]=F((...o)=>r.save&&r.save(...o),["prevent"]))},[u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.localServer.customer_id=o),placeholder:"Customer ID",required:""},null,512),[[_,r.localServer.customer_id]]),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.localServer.server_name=o),placeholder:"Server Name",required:""},null,512),[[_,r.localServer.server_name]]),u(s("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.localServer.server_type=o),required:""},e[5]||(e[5]=[s("option",{value:"",disabled:""},"Select Server Type",-1),s("option",{value:"vds"},"VDS",-1),s("option",{value:"dedicated"},"Dedicated",-1),s("option",{value:"hosting"},"Hosting",-1)]),512),[[C,r.localServer.server_type]]),e[6]||(e[6]=s("button",{type:"submit"},"Save Server",-1)),s("button",{type:"button",onClick:e[3]||(e[3]=(...o)=>r.close&&r.close(...o))},"Cancel")],32)])}const N=$(R,[["render",z],["__scopeId","data-v-9b520dff"]]),K=y({components:{ServerList:k,ServerEditForm:N},setup(){const r=[{customer_id:"user1",server_name:"server7",server_type:"vds"},{customer_id:"user5",server_name:"server2",server_type:"dedicated"},{customer_id:"user3",server_name:"server4",server_type:"hosting"}],e=p([]),t=p(null),n=p({customer_id:"",server_name:"",server_type:""}),a=p(!1);return D(()=>{const v=localStorage.getItem("servers");v?e.value=JSON.parse(v):(e.value=r,localStorage.setItem("servers",JSON.stringify(r)))}),g(e,v=>{localStorage.setItem("servers",JSON.stringify(v))},{deep:!0}),{servers:e,selectedServer:t,newServer:n,showAddForm:a,selectServer:v=>{t.value={...v}},saveServer:v=>{const c=e.value.findIndex(V=>{var b;return V.customer_id===((b=t.value)==null?void 0:b.customer_id)});c!==-1&&(e.value[c]={...v},t.value=null)},addServer:()=>{!n.value.customer_id||!n.value.server_name||!n.value.server_type||(e.value.push({...n.value}),n.value={customer_id:"",server_name:"",server_type:""},a.value=!1)},removeServer:v=>{e.value=e.value.filter(c=>c.customer_id!==v.customer_id)},closeForm:()=>{t.value=null}}}}),P={class:"container"},Q={class:"server-list"},G={key:0,class:"add-server-form"},W={class:"edit-form"};function X(r,e,t,n,a,m){const o=k,S=N;return d(),i("div",P,[s("div",Q,[E(o,{servers:r.servers,onEditServer:r.selectServer,onRemoveServer:r.removeServer},null,8,["servers","onEditServer","onRemoveServer"]),s("button",{class:"add-server-button",onClick:e[0]||(e[0]=l=>r.showAddForm=!r.showAddForm)},f(r.showAddForm?"Cancel":"Add New Server"),1),r.showAddForm?(d(),i("div",G,[e[7]||(e[7]=s("h3",{class:"form-title"},"Add New Server",-1)),s("form",{onSubmit:e[4]||(e[4]=F((...l)=>r.addServer&&r.addServer(...l),["prevent"])),class:"server-form"},[u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>r.newServer.customer_id=l),placeholder:"Customer ID",class:"form-input",required:""},null,512),[[_,r.newServer.customer_id]]),u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>r.newServer.server_name=l),placeholder:"Server Name",class:"form-input",required:""},null,512),[[_,r.newServer.server_name]]),u(s("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>r.newServer.server_type=l),class:"form-select",required:""},e[5]||(e[5]=[s("option",{value:"",disabled:""},"Select Server Type",-1),s("option",{value:"vds"},"VDS",-1),s("option",{value:"dedicated"},"Dedicated",-1),s("option",{value:"hosting"},"Hosting",-1)]),512),[[C,r.newServer.server_type]]),e[6]||(e[6]=s("button",{type:"submit",class:"submit-button"},"Add Server",-1))],32)])):w("",!0)]),s("div",W,[r.selectedServer?(d(),U(S,{key:0,server:r.selectedServer,onSaveServer:r.saveServer,onCloseForm:r.closeForm},null,8,["server","onSaveServer","onCloseForm"])):w("",!0)])])}const h=$(K,[["render",X],["__scopeId","data-v-6ffb4a0c"]]);export{h as default};
